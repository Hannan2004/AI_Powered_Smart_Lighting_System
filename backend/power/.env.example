# Service Configuration
POWER_HOST=0.0.0.0
POWER_PORT=8002

# =============================================================================
# API KEYS AND EXTERNAL SERVICES
# =============================================================================

# Groq LLM Configuration for Power Grid Intelligence
GROQ_API_KEY=your_groq_api_key_here
GROQ_MODEL=llama3-8b-8192
GROQ_TEMPERATURE=0.1
GROQ_MAX_TOKENS=1024

# =============================================================================
# KAFKA CONFIGURATION (Power Grid-specific topics)
# =============================================================================

# Kafka Bootstrap Servers (Shared infrastructure)
KAFKA_BOOTSTRAP_SERVERS=localhost:9092

# Power Grid-specific Kafka Topics (No conflicts)
KAFKA_ENERGY_LOAD_TOPIC=energy_load_data
KAFKA_POWER_OUTAGE_TOPIC=power_outages
KAFKA_ENERGY_REROUTING_TOPIC=energy_rerouting
KAFKA_POWER_REPORTS_TOPIC=power_reports
KAFKA_GRID_ALERTS_TOPIC=grid_alerts

# Kafka Consumer Group for Power Grid Service
KAFKA_POWER_CONSUMER_GROUP=power_agents

# =============================================================================
# POWER GRID THRESHOLDS AND LIMITS
# =============================================================================

# Voltage Thresholds (per unit)
LOW_VOLTAGE_THRESHOLD=0.95
HIGH_VOLTAGE_THRESHOLD=1.05
OUTAGE_DETECTION_THRESHOLD=0.8

# Frequency Limits (Hz)
FREQUENCY_MIN=49.5
FREQUENCY_MAX=50.5

# Power Quality Thresholds
POWER_FACTOR_MIN=0.85
PEAK_DEMAND_THRESHOLD=85.0          # percentage

# =============================================================================
# ENERGY FORECASTING SETTINGS
# =============================================================================

# Forecasting Parameters
FORECAST_HORIZON_HOURS=24           # hours
HISTORICAL_DATA_DAYS=30             # days for training
FORECAST_UPDATE_INTERVAL=900        # 15 minutes in seconds
FORECAST_ACCURACY_TARGET=90.0       # percentage

# Load Pattern Settings
PEAK_HOURS_START=17                 # 5 PM
PEAK_HOURS_END=21                   # 9 PM
OFF_PEAK_DISCOUNT=0.15              # 15% discount

# =============================================================================
# ENERGY OPTIMIZATION SETTINGS
# =============================================================================

# Dimming and Brightness Control
MIN_DIMMING_LEVEL=20.0              # minimum brightness percentage
MAX_BRIGHTNESS_LEVEL=100.0          # maximum brightness percentage
ENERGY_SAVINGS_TARGET=15.0          # target energy savings percentage
ADAPTIVE_DIMMING_ENABLED=true

# Optimization Intervals
OPTIMIZATION_INTERVAL=300           # 5 minutes
LOAD_BALANCING_INTERVAL=60          # 1 minute
EFFICIENCY_CHECK_INTERVAL=1800      # 30 minutes

# =============================================================================
# OUTAGE DETECTION AND RESPONSE
# =============================================================================

# Detection Parameters
OUTAGE_DETECTION_INTERVAL=5         # seconds
VOLTAGE_MONITORING_INTERVAL=2       # seconds
POWER_QUALITY_CHECK_INTERVAL=10     # seconds

# Response Timing
OUTAGE_RESPONSE_TIME=5              # seconds for initial response
REROUTING_TIMEOUT=30                # seconds for rerouting completion
EMERGENCY_ACTIVATION_TIME=3         # seconds

# =============================================================================
# EMERGENCY AND PRIORITY ZONES
# =============================================================================

# Emergency Response Settings
EMERGENCY_BACKUP_CAPACITY=40.0      # percentage of total capacity
CRITICAL_LOAD_PRIORITY=1            # highest priority
EMERGENCY_POWER_DURATION=7200       # 2 hours in seconds

# Load Shedding Parameters
LOAD_SHEDDING_STEPS=5               # number of shedding steps
LOAD_SHEDDING_INCREMENT=10.0        # percentage per step
RESTORATION_DELAY=300               # 5 minutes between restoration steps

# =============================================================================
# MONITORING AND REPORTING SETTINGS
# =============================================================================

# Data Collection Intervals (seconds)
LOAD_MONITORING_INTERVAL=60         # 1 minute
METER_DATA_COLLECTION=30            # 30 seconds
GRID_STATUS_CHECK=15                # 15 seconds

# Reporting Intervals
REPORTING_INTERVAL=3600             # 1 hour
DAILY_REPORT_TIME=06:00             # 6 AM daily reports
WEEKLY_REPORT_DAY=Sunday            # weekly report day

# Performance Metrics
EFFICIENCY_BASELINE=85.0            # baseline efficiency percentage
RELIABILITY_TARGET=99.9             # uptime target percentage
RESPONSE_TIME_TARGET=5.0            # seconds

# =============================================================================
# AGENT EXECUTION SETTINGS
# =============================================================================

# Agent Timeouts and Retries
AGENT_TIMEOUT=60                    # seconds
MAX_RETRIES=3                       # retry attempts
RETRY_DELAY=5                       # seconds between retries

# Execution Priorities
OUTAGE_DETECTION_PRIORITY=1         # highest
REROUTING_PRIORITY=2                # second highest
FORECASTING_PRIORITY=3              # medium
OPTIMIZATION_PRIORITY=4             # lower
REPORTING_PRIORITY=5                # lowest

# =============================================================================
# SMART METER AND DEVICE SETTINGS
# =============================================================================

# Smart Meter Configuration
METER_READ_INTERVAL=60              # seconds
METER_DATA_RETENTION=2592000        # 30 days in seconds
METER_COMMUNICATION_TIMEOUT=10      # seconds

# Device Control Settings
DEVICE_RESPONSE_TIMEOUT=15          # seconds
DEVICE_STATUS_CHECK_INTERVAL=120    # 2 minutes
DEVICE_HEARTBEAT_INTERVAL=300       # 5 minutes

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database for power grid data
DATABASE_URL=postgresql://smart_user:smart_pass@localhost:5432/smart_lighting
POWER_GRID_SCHEMA=power_grid_data
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# Redis for caching (shared infrastructure)
REDIS_URL=redis://localhost:6379/2
REDIS_CACHE_TTL=1800                # 30 minutes

# =============================================================================
# LOGGING AND DEBUGGING
# =============================================================================

# Logging Configuration
LOG_LEVEL=INFO
LOG_FILE=power_grid.log
LOG_MAX_SIZE=10485760               # 10MB
LOG_BACKUP_COUNT=5

# Debug Settings
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_PERFORMANCE_METRICS=true
ENABLE_DETAILED_ALERTS=true

# =============================================================================
# SAFETY AND SECURITY SETTINGS
# =============================================================================

# Safety Limits
MAX_LOAD_PERCENTAGE=95.0            # maximum safe load
TEMPERATURE_ALARM_THRESHOLD=75.0    # Celsius
INSULATION_RESISTANCE_MIN=1.0       # MÎ©

# Security Settings
SECURE_COMMUNICATION=true
ENCRYPTION_ENABLED=true
AUTHENTICATION_REQUIRED=false       # Set to true in production
SESSION_TIMEOUT=3600                # 1 hour

# =============================================================================
# WEATHER INTEGRATION
# =============================================================================

# Weather-based adjustments
WEATHER_IMPACT_ENABLED=true
STORM_RESPONSE_ENABLED=true
TEMPERATURE_LOAD_CORRELATION=true
WEATHER_DATA_TIMEOUT=30             # seconds

# =============================================================================
# COST OPTIMIZATION
# =============================================================================

# Energy Pricing
PEAK_RATE_MULTIPLIER=1.5            # peak hour rate multiplier
OFF_PEAK_DISCOUNT_RATE=0.7          # off-peak rate multiplier
DEMAND_CHARGE_THRESHOLD=80.0        # percentage

# Budget Settings
MONTHLY_ENERGY_BUDGET=50000         # kWh
COST_OPTIMIZATION_ENABLED=true
BUDGET_ALERT_THRESHOLD=85.0         # percentage of budget

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================

# Backup Settings
BACKUP_ENABLED=true
BACKUP_INTERVAL=86400               # 24 hours
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=/var/backups/power_grid

# Recovery Settings
AUTO_RECOVERY_ENABLED=true
RECOVERY_TIMEOUT=300                # 5 minutes
FAILOVER_ENABLED=true

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Performance Settings
MAX_CONCURRENT_REQUESTS=100
CONNECTION_POOL_SIZE=25
REQUEST_TIMEOUT=30                  # seconds
ASYNC_WORKER_COUNT=6

# Cache Settings
LOAD_DATA_CACHE_TTL=60              # 1 minute
FORECAST_CACHE_TTL=900              # 15 minutes
STATUS_CACHE_TTL=30                 # 30 seconds

# =============================================================================
# DEVELOPMENT AND TESTING
# =============================================================================

# Development Settings
DEVELOPMENT_MODE=true
MOCK_METER_DATA=false
ENABLE_TEST_ENDPOINTS=true
SIMULATION_MODE=false

# Testing Configuration
TEST_DATABASE_URL=postgresql://smart_user:smart_pass@localhost:5432/test_power_grid
TEST_KAFKA_TOPICS_PREFIX=test_
RUN_INTEGRATION_TESTS=true

# =============================================================================
# ALERTING AND NOTIFICATIONS
# =============================================================================

# Alert Settings
ENABLE_EMAIL_ALERTS=true
ENABLE_SMS_ALERTS=false
ENABLE_WEBHOOK_ALERTS=true
CRITICAL_ALERT_ESCALATION=true

# Alert Recipients
ALERT_EMAIL_RECIPIENTS=admin@example.com,ops@example.com
ALERT_WEBHOOK_URL=https://your-alert-webhook.com

# Slack Integration (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#power-grid-alerts

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# Utility Company Integration
UTILITY_API_ENDPOINT=https://api.utility.com
UTILITY_API_KEY=your_utility_api_key
UTILITY_ACCOUNT_ID=your_account_id

# Grid Management System Integration
GMS_ENDPOINT=https://gms.utility.com
GMS_API_KEY=your_gms_api_key
GMS_SYNC_INTERVAL=300               # 5 minutes

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature Toggles
ENABLE_PREDICTIVE_MAINTENANCE=true
ENABLE_DYNAMIC_PRICING=true
ENABLE_LOAD_FORECASTING=true
ENABLE_AUTOMATED_RECOVERY=true
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_REAL_TIME_OPTIMIZATION=true